<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="764px" preserveAspectRatio="none" style="width:707px;height:764px;background:#FFFFFF;" version="1.1" viewBox="0 0 707 764" width="707px" zoomAndPan="magnify"><defs><filter height="300%" id="f13v8ngyz1nquo" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" height="752.3828" style="stroke:#A80036;stroke-width:1.0;" width="436.5" x="1" y="6"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="66" x="183.75" y="18.0669">Domain1</text><rect fill="#DDDDDD" height="752.3828" style="stroke:#A80036;stroke-width:1.0;" width="261.5" x="439.5" y="6"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="66" x="537.25" y="18.0669">Domain2</text><rect fill="#FFFFFF" filter="url(#f13v8ngyz1nquo)" height="201.9297" style="stroke:#A80036;stroke-width:1.0;" width="10" x="167" y="139.5625"/><rect fill="#FFFFFF" filter="url(#f13v8ngyz1nquo)" height="184.9297" style="stroke:#A80036;stroke-width:1.0;" width="10" x="167" y="469.1563"/><rect fill="#FFFFFF" filter="url(#f13v8ngyz1nquo)" height="300.4609" style="stroke:#A80036;stroke-width:1.0;" width="10" x="479" y="255.0938"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="63" x2="63" y1="108.4297" y2="672.0859"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="172" x2="172" y1="108.4297" y2="672.0859"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="387.5" x2="387.5" y1="108.4297" y2="672.0859"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="483.5" x2="483.5" y1="108.4297" y2="672.0859"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="652" x2="652" y1="108.4297" y2="672.0859"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="110" x="5" y="105.1279">Domain1Admin</text><ellipse cx="63" cy="35.1328" fill="#FEFECE" filter="url(#f13v8ngyz1nquo)" rx="8" ry="8" style="stroke:#A80036;stroke-width:2.0;"/><path d="M63,43.1328 L63,70.1328 M50,51.1328 L76,51.1328 M63,70.1328 L50,85.1328 M63,70.1328 L76,85.1328 " fill="none" filter="url(#f13v8ngyz1nquo)" style="stroke:#A80036;stroke-width:2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="110" x="5" y="684.0811">Domain1Admin</text><ellipse cx="63" cy="697.3828" fill="#FEFECE" filter="url(#f13v8ngyz1nquo)" rx="8" ry="8" style="stroke:#A80036;stroke-width:2.0;"/><path d="M63,705.3828 L63,732.3828 M50,713.3828 L76,713.3828 M63,732.3828 L50,747.3828 M63,732.3828 L76,747.3828 " fill="none" filter="url(#f13v8ngyz1nquo)" style="stroke:#A80036;stroke-width:2.0;"/><rect fill="#FEFECE" filter="url(#f13v8ngyz1nquo)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="78" x="131" y="73.1328"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="64" x="138" y="93.1279">Domain1</text><rect fill="#FEFECE" filter="url(#f13v8ngyz1nquo)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="78" x="131" y="671.0859"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="64" x="138" y="691.0811">Domain1</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="85" x="342.5" y="105.1279">Domain1DB</text><path d="M370,56.1328 C370,46.1328 388,46.1328 388,46.1328 C388,46.1328 406,46.1328 406,56.1328 L406,82.1328 C406,92.1328 388,92.1328 388,92.1328 C388,92.1328 370,92.1328 370,82.1328 L370,56.1328 " fill="#FEFECE" filter="url(#f13v8ngyz1nquo)" style="stroke:#000000;stroke-width:1.5;"/><path d="M370,56.1328 C370,66.1328 388,66.1328 388,66.1328 C388,66.1328 406,66.1328 406,56.1328 " fill="none" style="stroke:#000000;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="85" x="342.5" y="684.0811">Domain1DB</text><path d="M370,697.3828 C370,687.3828 388,687.3828 388,687.3828 C388,687.3828 406,687.3828 406,697.3828 L406,723.3828 C406,733.3828 388,733.3828 388,733.3828 C388,733.3828 370,733.3828 370,723.3828 L370,697.3828 " fill="#FEFECE" filter="url(#f13v8ngyz1nquo)" style="stroke:#000000;stroke-width:1.5;"/><path d="M370,697.3828 C370,707.3828 388,707.3828 388,707.3828 C388,707.3828 406,707.3828 406,697.3828 " fill="none" style="stroke:#000000;stroke-width:1.5;"/><rect fill="#FEFECE" filter="url(#f13v8ngyz1nquo)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="77" x="443.5" y="73.1328"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="63" x="450.5" y="93.1279">Domain2</text><rect fill="#FEFECE" filter="url(#f13v8ngyz1nquo)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="77" x="443.5" y="671.0859"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="63" x="450.5" y="691.0811">Domain2</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="84" x="607" y="105.1279">Domain2DB</text><path d="M634,56.1328 C634,46.1328 652,46.1328 652,46.1328 C652,46.1328 670,46.1328 670,56.1328 L670,82.1328 C670,92.1328 652,92.1328 652,92.1328 C652,92.1328 634,92.1328 634,82.1328 L634,56.1328 " fill="#FEFECE" filter="url(#f13v8ngyz1nquo)" style="stroke:#000000;stroke-width:1.5;"/><path d="M634,56.1328 C634,66.1328 652,66.1328 652,66.1328 C652,66.1328 670,66.1328 670,56.1328 " fill="none" style="stroke:#000000;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="84" x="607" y="684.0811">Domain2DB</text><path d="M634,697.3828 C634,687.3828 652,687.3828 652,687.3828 C652,687.3828 670,687.3828 670,697.3828 L670,723.3828 C670,733.3828 652,733.3828 652,733.3828 C652,733.3828 634,733.3828 634,723.3828 L634,697.3828 " fill="#FEFECE" filter="url(#f13v8ngyz1nquo)" style="stroke:#000000;stroke-width:1.5;"/><path d="M634,697.3828 C634,707.3828 652,707.3828 652,707.3828 C652,707.3828 670,707.3828 670,697.3828 " fill="none" style="stroke:#000000;stroke-width:1.5;"/><rect fill="#FFFFFF" filter="url(#f13v8ngyz1nquo)" height="201.9297" style="stroke:#A80036;stroke-width:1.0;" width="10" x="167" y="139.5625"/><rect fill="#FFFFFF" filter="url(#f13v8ngyz1nquo)" height="184.9297" style="stroke:#A80036;stroke-width:1.0;" width="10" x="167" y="469.1563"/><rect fill="#FFFFFF" filter="url(#f13v8ngyz1nquo)" height="300.4609" style="stroke:#A80036;stroke-width:1.0;" width="10" x="479" y="255.0938"/><polygon fill="#A80036" points="155,135.5625,165,139.5625,155,143.5625,159,139.5625" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="63" x2="161" y1="139.5625" y2="139.5625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="72" x="70" y="134.4966">Post Follow</text><line style="stroke:#A80036;stroke-width:1.0;" x1="177" x2="219" y1="183.8281" y2="183.8281"/><line style="stroke:#A80036;stroke-width:1.0;" x1="219" x2="219" y1="183.8281" y2="196.8281"/><line style="stroke:#A80036;stroke-width:1.0;" x1="178" x2="219" y1="196.8281" y2="196.8281"/><polygon fill="#A80036" points="188,192.8281,178,196.8281,188,200.8281,184,196.8281" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="185" x="184" y="163.6294">Authenticate Domain1Admin</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="120" x="184" y="178.7622">using bearer token</text><polygon fill="#A80036" points="74,221.9609,64,225.9609,74,229.9609,70,225.9609" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="68" x2="166" y1="225.9609" y2="225.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="18" x="80" y="220.895">OK</text><polygon fill="#A80036" points="467,251.0938,477,255.0938,467,259.0938,471,255.0938" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="177" x2="473" y1="255.0938" y2="255.0938"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="91" x="184" y="250.0278">Follow activity</text><line style="stroke:#A80036;stroke-width:1.0;" x1="489" x2="531" y1="299.3594" y2="299.3594"/><line style="stroke:#A80036;stroke-width:1.0;" x1="531" x2="531" y1="299.3594" y2="312.3594"/><line style="stroke:#A80036;stroke-width:1.0;" x1="490" x2="531" y1="312.3594" y2="312.3594"/><polygon fill="#A80036" points="500,308.3594,490,312.3594,500,316.3594,496,312.3594" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="144" x="496" y="279.1606">Authenticate Domain1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="135" x="496" y="294.2935">using HTTP signature</text><polygon fill="#A80036" points="183,337.4922,173,341.4922,183,345.4922,179,341.4922" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="177" x2="478" y1="341.4922" y2="341.4922"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="18" x="189" y="336.4263">OK</text><line style="stroke:#A80036;stroke-width:1.0;" x1="489" x2="531" y1="376.6914" y2="376.6914"/><line style="stroke:#A80036;stroke-width:1.0;" x1="531" x2="531" y1="376.6914" y2="389.6914"/><line style="stroke:#A80036;stroke-width:1.0;" x1="490" x2="531" y1="389.6914" y2="389.6914"/><polygon fill="#A80036" points="500,385.6914,490,389.6914,500,393.6914,496,389.6914" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="123" x="496" y="371.6255">Authorize Domain1</text><path d="M255,354.4922 L255,394.4922 L470,394.4922 L470,364.4922 L460,354.4922 L255,354.4922 " fill="#FBFB77" filter="url(#f13v8ngyz1nquo)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M460,354.4922 L460,364.4922 L470,364.4922 L460,354.4922 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="194" x="261" y="371.5591">Authorization successful using</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="174" x="261" y="386.6919">Follow Authorization Policy.</text><polygon fill="#A80036" points="640,436.0234,650,440.0234,640,444.0234,644,440.0234" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="489" x2="646" y1="440.0234" y2="440.0234"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="104" x="496" y="419.8247">Add Domain1 to</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="80" x="496" y="434.9575">followers list</text><polygon fill="#A80036" points="188,465.1563,178,469.1563,188,473.1563,184,469.1563" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="182" x2="478" y1="469.1563" y2="469.1563"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="95" x="194" y="464.0903">Accept activity</text><line style="stroke:#A80036;stroke-width:1.0;" x1="177" x2="219" y1="513.4219" y2="513.4219"/><line style="stroke:#A80036;stroke-width:1.0;" x1="219" x2="219" y1="513.4219" y2="526.4219"/><line style="stroke:#A80036;stroke-width:1.0;" x1="178" x2="219" y1="526.4219" y2="526.4219"/><polygon fill="#A80036" points="188,522.4219,178,526.4219,188,530.4219,184,526.4219" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="144" x="184" y="493.2231">Authenticate Domain2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="135" x="184" y="508.356">using HTTP signature</text><polygon fill="#A80036" points="472,551.5547,482,555.5547,472,559.5547,476,555.5547" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="177" x2="478" y1="555.5547" y2="555.5547"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="18" x="184" y="550.4888">OK</text><line style="stroke:#A80036;stroke-width:1.0;" x1="177" x2="219" y1="598.3203" y2="598.3203"/><line style="stroke:#A80036;stroke-width:1.0;" x1="219" x2="219" y1="598.3203" y2="611.3203"/><line style="stroke:#A80036;stroke-width:1.0;" x1="178" x2="219" y1="611.3203" y2="611.3203"/><polygon fill="#A80036" points="188,607.3203,178,611.3203,188,615.3203,184,611.3203" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="151" x="184" y="593.2544">Validate Accept activity</text><path d="M347,568.5547 L347,623.5547 L593,623.5547 L593,578.5547 L583,568.5547 L347,568.5547 " fill="#FBFB77" filter="url(#f13v8ngyz1nquo)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M583,568.5547 L583,578.5547 L593,578.5547 L583,568.5547 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="172" x="353" y="585.6216">Validate the Follow activity</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="208" x="353" y="600.7544">embedded in the Accept activity</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="225" x="353" y="615.8872">against a previously posted Follow.</text><polygon fill="#A80036" points="376,650.0859,386,654.0859,376,658.0859,380,654.0859" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="172" x2="382" y1="654.0859" y2="654.0859"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="187" x="179" y="649.02">Add Domain2 to following list</text><!--MD5=[39993f7d3128ccb0fe0e1ff081a9fe30]
@startuml
'https://plantuml.com/sequence-diagram

'autonumber

box Domain1 #White
actor Domain1Admin
participant Domain1
database Domain1DB
end box

box Domain2
participant Domain2
database Domain2DB
end box

Domain1Admin -> Domain1: Post Follow

activate Domain1

Domain1 -> Domain1: Authenticate Domain1Admin\nusing bearer token

Domain1 - -> Domain1Admin: OK

Domain1 -> Domain2: Follow activity
activate Domain2
Domain2 -> Domain2: Authenticate Domain1\nusing HTTP signature
Domain2 - -> Domain1: OK

deactivate Domain1

Domain2 -> Domain2: Authorize Domain1

note left
Authorization successful using
Follow Authorization Policy.
end note

Domain2 -> Domain2DB: Add Domain1 to\nfollowers list
Domain2 -> Domain1: Accept activity

activate Domain1

Domain1 -> Domain1: Authenticate Domain2\nusing HTTP signature
Domain1 - -> Domain2: OK
deactivate Domain2

Domain1 -> Domain1: Validate Accept activity

note right
Validate the Follow activity
embedded in the Accept activity
against a previously posted Follow.
end note

Domain1 -> Domain1DB: Add Domain2 to following list

deactivate Domain1
@enduml

@startuml


box Domain1 #White
actor Domain1Admin
participant Domain1
database Domain1DB
end box

box Domain2
participant Domain2
database Domain2DB
end box

Domain1Admin -> Domain1: Post Follow

activate Domain1

Domain1 -> Domain1: Authenticate Domain1Admin\nusing bearer token

Domain1 - -> Domain1Admin: OK

Domain1 -> Domain2: Follow activity
activate Domain2
Domain2 -> Domain2: Authenticate Domain1\nusing HTTP signature
Domain2 - -> Domain1: OK

deactivate Domain1

Domain2 -> Domain2: Authorize Domain1

note left
Authorization successful using
Follow Authorization Policy.
end note

Domain2 -> Domain2DB: Add Domain1 to\nfollowers list
Domain2 -> Domain1: Accept activity

activate Domain1

Domain1 -> Domain1: Authenticate Domain2\nusing HTTP signature
Domain1 - -> Domain2: OK
deactivate Domain2

Domain1 -> Domain1: Validate Accept activity

note right
Validate the Follow activity
embedded in the Accept activity
against a previously posted Follow.
end note

Domain1 -> Domain1DB: Add Domain2 to following list

deactivate Domain1
@enduml

PlantUML version 1.2022.1beta3(Unknown compile time)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>