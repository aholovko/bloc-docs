<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="650px" preserveAspectRatio="none" style="width:643px;height:650px;background:#FFFFFF;" version="1.1" viewBox="0 0 643 650" width="643px" zoomAndPan="magnify"><defs><filter height="300%" id="f9k19s14iogx" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#f9k19s14iogx)" height="201.9297" style="stroke:#A80036;stroke-width:1.0;" width="10" x="184" y="119.4297"/><rect fill="#FFFFFF" filter="url(#f9k19s14iogx)" height="121.5313" style="stroke:#A80036;stroke-width:1.0;" width="10" x="184" y="419.8906"/><rect fill="#FFFFFF" filter="url(#f9k19s14iogx)" height="271.3281" style="stroke:#A80036;stroke-width:1.0;" width="10" x="393" y="234.9609"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="80" x2="80" y1="88.2969" y2="566.4219"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="189" x2="189" y1="88.2969" y2="566.4219"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="397.5" x2="397.5" y1="88.2969" y2="566.4219"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="110" x="22" y="84.9951">Domain1Admin</text><ellipse cx="80" cy="15" fill="#FEFECE" filter="url(#f9k19s14iogx)" rx="8" ry="8" style="stroke:#A80036;stroke-width:2.0;"/><path d="M80,23 L80,50 M67,31 L93,31 M80,50 L67,65 M80,50 L93,65 " fill="none" filter="url(#f9k19s14iogx)" style="stroke:#A80036;stroke-width:2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="110" x="22" y="578.417">Domain1Admin</text><ellipse cx="80" cy="591.7188" fill="#FEFECE" filter="url(#f9k19s14iogx)" rx="8" ry="8" style="stroke:#A80036;stroke-width:2.0;"/><path d="M80,599.7188 L80,626.7188 M67,607.7188 L93,607.7188 M80,626.7188 L67,641.7188 M80,626.7188 L93,641.7188 " fill="none" filter="url(#f9k19s14iogx)" style="stroke:#A80036;stroke-width:2.0;"/><rect fill="#FEFECE" filter="url(#f9k19s14iogx)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="78" x="148" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="64" x="155" y="72.9951">Domain1</text><rect fill="#FEFECE" filter="url(#f9k19s14iogx)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="78" x="148" y="565.4219"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="64" x="155" y="585.417">Domain1</text><rect fill="#FEFECE" filter="url(#f9k19s14iogx)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="77" x="357.5" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="63" x="364.5" y="72.9951">Domain2</text><rect fill="#FEFECE" filter="url(#f9k19s14iogx)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="77" x="357.5" y="565.4219"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="63" x="364.5" y="585.417">Domain2</text><rect fill="#FFFFFF" filter="url(#f9k19s14iogx)" height="201.9297" style="stroke:#A80036;stroke-width:1.0;" width="10" x="184" y="119.4297"/><rect fill="#FFFFFF" filter="url(#f9k19s14iogx)" height="121.5313" style="stroke:#A80036;stroke-width:1.0;" width="10" x="184" y="419.8906"/><rect fill="#FFFFFF" filter="url(#f9k19s14iogx)" height="271.3281" style="stroke:#A80036;stroke-width:1.0;" width="10" x="393" y="234.9609"/><polygon fill="#A80036" points="172,115.4297,182,119.4297,172,123.4297,176,119.4297" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="80" x2="178" y1="119.4297" y2="119.4297"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="67" x="87" y="114.3638">Post Invite</text><line style="stroke:#A80036;stroke-width:1.0;" x1="194" x2="236" y1="163.6953" y2="163.6953"/><line style="stroke:#A80036;stroke-width:1.0;" x1="236" x2="236" y1="163.6953" y2="176.6953"/><line style="stroke:#A80036;stroke-width:1.0;" x1="195" x2="236" y1="176.6953" y2="176.6953"/><polygon fill="#A80036" points="205,172.6953,195,176.6953,205,180.6953,201,176.6953" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="185" x="201" y="143.4966">Authenticate Domain1Admin</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="120" x="201" y="158.6294">using bearer token</text><path d="M5,133.9297 L5,173.9297 L175,173.9297 L175,143.9297 L165,133.9297 L5,133.9297 " fill="#FBFB77" filter="url(#f9k19s14iogx)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M165,133.9297 L165,143.9297 L175,143.9297 L165,133.9297 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="149" x="11" y="150.9966">Verify the bearer token</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="120" x="11" y="166.1294">of Domain1Admin.</text><polygon fill="#A80036" points="91,201.8281,81,205.8281,91,209.8281,87,205.8281" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="85" x2="183" y1="205.8281" y2="205.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="18" x="97" y="200.7622">OK</text><polygon fill="#A80036" points="381,230.9609,391,234.9609,381,238.9609,385,234.9609" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="194" x2="387" y1="234.9609" y2="234.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="86" x="201" y="229.895">Invite activity</text><line style="stroke:#A80036;stroke-width:1.0;" x1="403" x2="445" y1="279.2266" y2="279.2266"/><line style="stroke:#A80036;stroke-width:1.0;" x1="445" x2="445" y1="279.2266" y2="292.2266"/><line style="stroke:#A80036;stroke-width:1.0;" x1="404" x2="445" y1="292.2266" y2="292.2266"/><polygon fill="#A80036" points="414,288.2266,404,292.2266,414,296.2266,410,292.2266" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="144" x="410" y="259.0278">Authenticate Domain1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="135" x="410" y="274.1606">using HTTP signature</text><polygon fill="#A80036" points="200,317.3594,190,321.3594,200,325.3594,196,321.3594" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="194" x2="392" y1="321.3594" y2="321.3594"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="18" x="206" y="316.2935">OK</text><line style="stroke:#A80036;stroke-width:1.0;" x1="403" x2="445" y1="371.6914" y2="371.6914"/><line style="stroke:#A80036;stroke-width:1.0;" x1="445" x2="445" y1="371.6914" y2="384.6914"/><line style="stroke:#A80036;stroke-width:1.0;" x1="404" x2="445" y1="384.6914" y2="384.6914"/><polygon fill="#A80036" points="414,380.6914,404,384.6914,414,388.6914,410,384.6914" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="61" x="410" y="351.4927">Authorize</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="58" x="410" y="366.6255">Domain1</text><path d="M483,334.3594 L483,389.3594 L634,389.3594 L634,344.3594 L624,334.3594 L483,334.3594 " fill="#FBFB77" filter="url(#f9k19s14iogx)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M624,334.3594 L624,344.3594 L634,344.3594 L624,334.3594 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="115" x="489" y="351.4263">Authorization fails</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="128" x="489" y="366.5591">using Invite Witness</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="130" x="489" y="381.6919">Authorization Policy.</text><polygon fill="#A80036" points="205,415.8906,195,419.8906,205,423.8906,201,419.8906" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="199" x2="392" y1="419.8906" y2="419.8906"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="91" x="211" y="414.8247">Reject activity</text><line style="stroke:#A80036;stroke-width:1.0;" x1="194" x2="236" y1="464.1563" y2="464.1563"/><line style="stroke:#A80036;stroke-width:1.0;" x1="236" x2="236" y1="464.1563" y2="477.1563"/><line style="stroke:#A80036;stroke-width:1.0;" x1="195" x2="236" y1="477.1563" y2="477.1563"/><polygon fill="#A80036" points="205,473.1563,195,477.1563,205,481.1563,201,477.1563" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="144" x="201" y="443.9575">Authenticate Domain2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="135" x="201" y="459.0903">using HTTP signature</text><polygon fill="#A80036" points="386,502.2891,396,506.2891,386,510.2891,390,506.2891" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="194" x2="392" y1="506.2891" y2="506.2891"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="18" x="201" y="501.2231">OK</text><line style="stroke:#A80036;stroke-width:1.0;" x1="194" x2="236" y1="540.4219" y2="540.4219"/><line style="stroke:#A80036;stroke-width:1.0;" x1="236" x2="236" y1="540.4219" y2="553.4219"/><line style="stroke:#A80036;stroke-width:1.0;" x1="189" x2="236" y1="553.4219" y2="553.4219"/><polygon fill="#A80036" points="199,549.4219,189,553.4219,199,557.4219,195,553.4219" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="148" x="201" y="535.356">Log warning for Reject.</text><!--MD5=[9527699e917881457b55b42d7d3d3966]
@startuml
'https://plantuml.com/sequence-diagram

'autonumber

actor Domain1Admin
participant Domain1
participant Domain2

Domain1Admin -> Domain1: Post Invite

activate Domain1

Domain1 -> Domain1: Authenticate Domain1Admin\nusing bearer token

note left
Verify the bearer token
of Domain1Admin.
end note

Domain1 - -> Domain1Admin: OK

Domain1 -> Domain2: Invite activity

activate Domain2

Domain2 -> Domain2: Authenticate Domain1\nusing HTTP signature
Domain2 - -> Domain1: OK

deactivate Domain1

Domain2 -> Domain2: Authorize\nDomain1

note right
Authorization fails
using Invite Witness
Authorization Policy.
end note

Domain2 -> Domain1: Reject activity

activate Domain1

Domain1 -> Domain1: Authenticate Domain2\nusing HTTP signature
Domain1 - -> Domain2: OK

deactivate Domain2

Domain1 -> Domain1: Log warning for Reject.

deactivate Domain1
@enduml

@startuml


actor Domain1Admin
participant Domain1
participant Domain2

Domain1Admin -> Domain1: Post Invite

activate Domain1

Domain1 -> Domain1: Authenticate Domain1Admin\nusing bearer token

note left
Verify the bearer token
of Domain1Admin.
end note

Domain1 - -> Domain1Admin: OK

Domain1 -> Domain2: Invite activity

activate Domain2

Domain2 -> Domain2: Authenticate Domain1\nusing HTTP signature
Domain2 - -> Domain1: OK

deactivate Domain1

Domain2 -> Domain2: Authorize\nDomain1

note right
Authorization fails
using Invite Witness
Authorization Policy.
end note

Domain2 -> Domain1: Reject activity

activate Domain1

Domain1 -> Domain1: Authenticate Domain2\nusing HTTP signature
Domain1 - -> Domain2: OK

deactivate Domain2

Domain1 -> Domain1: Log warning for Reject.

deactivate Domain1
@enduml

PlantUML version 1.2022.1beta3(Unknown compile time)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>