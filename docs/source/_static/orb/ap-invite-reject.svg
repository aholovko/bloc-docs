<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="636px" preserveAspectRatio="none" style="width:637px;height:636px;" version="1.1" viewBox="0 0 637 636" width="637px" zoomAndPan="magnify"><defs><style type="text/css"><![CDATA[*.f_ffffff_000000 {fill:#ffffff;}*.s_181818_e7e7e7 {stroke:#181818;}*.f_000000_ffffff {fill:#000000;}*.f_181818_e7e7e7 {fill:#181818;}*.f_feffdd_333333 {fill:#feffdd;}@media (prefers-color-scheme:dark) {*.f_ffffff_000000 {fill:#000000;}*.s_181818_e7e7e7 {stroke:#e7e7e7;}*.f_000000_ffffff {fill:#ffffff;}*.f_181818_e7e7e7 {fill:#e7e7e7;}*.f_feffdd_333333 {fill:#333333;}}]]></style></defs><g><rect class="f_ffffff_000000 s_181818_e7e7e7" height="201.9297" style="stroke-width:1.0;" width="10" x="180" y="112.4297"/><rect class="f_ffffff_000000 s_181818_e7e7e7" height="121.5313" style="stroke-width:1.0;" width="10" x="180" y="408.8906"/><rect class="f_ffffff_000000 s_181818_e7e7e7" height="267.3281" style="stroke-width:1.0;" width="10" x="389" y="227.9609"/><line class="s_181818_e7e7e7" style="stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="78" x2="78" y1="81.2969" y2="555.4219"/><line class="s_181818_e7e7e7" style="stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="185" x2="185" y1="81.2969" y2="555.4219"/><line class="s_181818_e7e7e7" style="stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="393.5" x2="393.5" y1="81.2969" y2="555.4219"/><text class="f_000000_ffffff" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="110" x="20" y="77.9951">Domain1Admin</text><ellipse class="s_181818_e7e7e7" cx="78" cy="13.5" fill="#E2E2F0" rx="8" ry="8" style="stroke-width:0.5;"/><path class="s_181818_e7e7e7" d="M78,21.5 L78,48.5 M65,29.5 L91,29.5 M78,48.5 L65,63.5 M78,48.5 L91,63.5 " fill="none" style="stroke-width:0.5;"/><text class="f_000000_ffffff" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="110" x="20" y="567.417">Domain1Admin</text><ellipse class="s_181818_e7e7e7" cx="78" cy="579.2188" fill="#E2E2F0" rx="8" ry="8" style="stroke-width:0.5;"/><path class="s_181818_e7e7e7" d="M78,587.2188 L78,614.2188 M65,595.2188 L91,595.2188 M78,614.2188 L65,629.2188 M78,614.2188 L91,629.2188 " fill="none" style="stroke-width:0.5;"/><rect class="s_181818_e7e7e7" fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke-width:0.5;" width="78" x="146" y="50"/><text class="f_000000_ffffff" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="64" x="153" y="69.9951">Domain1</text><rect class="s_181818_e7e7e7" fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke-width:0.5;" width="78" x="146" y="554.4219"/><text class="f_000000_ffffff" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="64" x="153" y="574.417">Domain1</text><rect class="s_181818_e7e7e7" fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke-width:0.5;" width="77" x="355.5" y="50"/><text class="f_000000_ffffff" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="63" x="362.5" y="69.9951">Domain2</text><rect class="s_181818_e7e7e7" fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke-width:0.5;" width="77" x="355.5" y="554.4219"/><text class="f_000000_ffffff" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="63" x="362.5" y="574.417">Domain2</text><rect class="f_ffffff_000000 s_181818_e7e7e7" height="201.9297" style="stroke-width:1.0;" width="10" x="180" y="112.4297"/><rect class="f_ffffff_000000 s_181818_e7e7e7" height="121.5313" style="stroke-width:1.0;" width="10" x="180" y="408.8906"/><rect class="f_ffffff_000000 s_181818_e7e7e7" height="267.3281" style="stroke-width:1.0;" width="10" x="389" y="227.9609"/><polygon class="f_181818_e7e7e7 s_181818_e7e7e7" points="168,108.4297,178,112.4297,168,116.4297,172,112.4297" style="stroke-width:1.0;"/><line class="s_181818_e7e7e7" style="stroke-width:1.0;" x1="78" x2="174" y1="112.4297" y2="112.4297"/><text class="f_000000_ffffff" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="67" x="85" y="107.3638">Post Invite</text><line class="s_181818_e7e7e7" style="stroke-width:1.0;" x1="190" x2="232" y1="156.6953" y2="156.6953"/><line class="s_181818_e7e7e7" style="stroke-width:1.0;" x1="232" x2="232" y1="156.6953" y2="169.6953"/><line class="s_181818_e7e7e7" style="stroke-width:1.0;" x1="191" x2="232" y1="169.6953" y2="169.6953"/><polygon class="f_181818_e7e7e7 s_181818_e7e7e7" points="201,165.6953,191,169.6953,201,173.6953,197,169.6953" style="stroke-width:1.0;"/><text class="f_000000_ffffff" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="185" x="197" y="136.4966">Authenticate Domain1Admin</text><text class="f_000000_ffffff" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="120" x="197" y="151.6294">using bearer token</text><path class="f_feffdd_333333 s_181818_e7e7e7" d="M5,128.9297 L5,168.9297 L175,168.9297 L175,138.9297 L165,128.9297 L5,128.9297 " style="stroke-width:0.5;"/><path class="f_feffdd_333333 s_181818_e7e7e7" d="M165,128.9297 L165,138.9297 L175,138.9297 L165,128.9297 " style="stroke-width:0.5;"/><text class="f_000000_ffffff" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="149" x="11" y="145.9966">Verify the bearer token</text><text class="f_000000_ffffff" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="120" x="11" y="161.1294">of Domain1Admin.</text><polygon class="f_181818_e7e7e7 s_181818_e7e7e7" points="89,194.8281,79,198.8281,89,202.8281,85,198.8281" style="stroke-width:1.0;"/><line class="s_181818_e7e7e7" style="stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="83" x2="179" y1="198.8281" y2="198.8281"/><text class="f_000000_ffffff" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="18" x="95" y="193.7622">OK</text><polygon class="f_181818_e7e7e7 s_181818_e7e7e7" points="377,223.9609,387,227.9609,377,231.9609,381,227.9609" style="stroke-width:1.0;"/><line class="s_181818_e7e7e7" style="stroke-width:1.0;" x1="190" x2="383" y1="227.9609" y2="227.9609"/><text class="f_000000_ffffff" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="86" x="197" y="222.895">Invite activity</text><line class="s_181818_e7e7e7" style="stroke-width:1.0;" x1="399" x2="441" y1="272.2266" y2="272.2266"/><line class="s_181818_e7e7e7" style="stroke-width:1.0;" x1="441" x2="441" y1="272.2266" y2="285.2266"/><line class="s_181818_e7e7e7" style="stroke-width:1.0;" x1="400" x2="441" y1="285.2266" y2="285.2266"/><polygon class="f_181818_e7e7e7 s_181818_e7e7e7" points="410,281.2266,400,285.2266,410,289.2266,406,285.2266" style="stroke-width:1.0;"/><text class="f_000000_ffffff" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="144" x="406" y="252.0278">Authenticate Domain1</text><text class="f_000000_ffffff" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="135" x="406" y="267.1606">using HTTP signature</text><polygon class="f_181818_e7e7e7 s_181818_e7e7e7" points="196,310.3594,186,314.3594,196,318.3594,192,314.3594" style="stroke-width:1.0;"/><line class="s_181818_e7e7e7" style="stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="190" x2="388" y1="314.3594" y2="314.3594"/><text class="f_000000_ffffff" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="18" x="202" y="309.2935">OK</text><line class="s_181818_e7e7e7" style="stroke-width:1.0;" x1="399" x2="441" y1="362.6914" y2="362.6914"/><line class="s_181818_e7e7e7" style="stroke-width:1.0;" x1="441" x2="441" y1="362.6914" y2="375.6914"/><line class="s_181818_e7e7e7" style="stroke-width:1.0;" x1="400" x2="441" y1="375.6914" y2="375.6914"/><polygon class="f_181818_e7e7e7 s_181818_e7e7e7" points="410,371.6914,400,375.6914,410,379.6914,406,375.6914" style="stroke-width:1.0;"/><text class="f_000000_ffffff" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="61" x="406" y="342.4927">Authorize</text><text class="f_000000_ffffff" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="58" x="406" y="357.6255">Domain1</text><path class="f_feffdd_333333 s_181818_e7e7e7" d="M479,327.3594 L479,382.3594 L630,382.3594 L630,337.3594 L620,327.3594 L479,327.3594 " style="stroke-width:0.5;"/><path class="f_feffdd_333333 s_181818_e7e7e7" d="M620,327.3594 L620,337.3594 L630,337.3594 L620,327.3594 " style="stroke-width:0.5;"/><text class="f_000000_ffffff" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="115" x="485" y="344.4263">Authorization fails</text><text class="f_000000_ffffff" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="128" x="485" y="359.5591">using Invite Witness</text><text class="f_000000_ffffff" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="130" x="485" y="374.6919">Authorization Policy.</text><polygon class="f_181818_e7e7e7 s_181818_e7e7e7" points="201,404.8906,191,408.8906,201,412.8906,197,408.8906" style="stroke-width:1.0;"/><line class="s_181818_e7e7e7" style="stroke-width:1.0;" x1="195" x2="388" y1="408.8906" y2="408.8906"/><text class="f_000000_ffffff" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="91" x="207" y="403.8247">Reject activity</text><line class="s_181818_e7e7e7" style="stroke-width:1.0;" x1="190" x2="232" y1="453.1563" y2="453.1563"/><line class="s_181818_e7e7e7" style="stroke-width:1.0;" x1="232" x2="232" y1="453.1563" y2="466.1563"/><line class="s_181818_e7e7e7" style="stroke-width:1.0;" x1="191" x2="232" y1="466.1563" y2="466.1563"/><polygon class="f_181818_e7e7e7 s_181818_e7e7e7" points="201,462.1563,191,466.1563,201,470.1563,197,466.1563" style="stroke-width:1.0;"/><text class="f_000000_ffffff" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="144" x="197" y="432.9575">Authenticate Domain2</text><text class="f_000000_ffffff" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="135" x="197" y="448.0903">using HTTP signature</text><polygon class="f_181818_e7e7e7 s_181818_e7e7e7" points="382,491.2891,392,495.2891,382,499.2891,386,495.2891" style="stroke-width:1.0;"/><line class="s_181818_e7e7e7" style="stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="190" x2="388" y1="495.2891" y2="495.2891"/><text class="f_000000_ffffff" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="18" x="197" y="490.2231">OK</text><line class="s_181818_e7e7e7" style="stroke-width:1.0;" x1="190" x2="232" y1="529.4219" y2="529.4219"/><line class="s_181818_e7e7e7" style="stroke-width:1.0;" x1="232" x2="232" y1="529.4219" y2="542.4219"/><line class="s_181818_e7e7e7" style="stroke-width:1.0;" x1="185" x2="232" y1="542.4219" y2="542.4219"/><polygon class="f_181818_e7e7e7 s_181818_e7e7e7" points="195,538.4219,185,542.4219,195,546.4219,191,542.4219" style="stroke-width:1.0;"/><text class="f_000000_ffffff" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="148" x="197" y="524.356">Log warning for Reject.</text><!--MD5=[0783d0b5c195439a8e9a0b490cda9b8c]
@startuml
'https://plantuml.com/sequence-diagram

'autonumber

actor Domain1Admin
participant Domain1
participant Domain2

Domain1Admin -> Domain1: Post Invite

activate Domain1

Domain1 -> Domain1: Authenticate Domain1Admin\nusing bearer token

note left
Verify the bearer token
of Domain1Admin.
end note

Domain1 - -> Domain1Admin: OK

Domain1 -> Domain2: Invite activity

activate Domain2

Domain2 -> Domain2: Authenticate Domain1\nusing HTTP signature
Domain2 - -> Domain1: OK

deactivate Domain1

Domain2 -> Domain2: Authorize\nDomain1

note right
Authorization fails
using Invite Witness
Authorization Policy.
end note

Domain2 -> Domain1: Reject activity

activate Domain1

Domain1 -> Domain1: Authenticate Domain2\nusing HTTP signature
Domain1 - -> Domain2: OK

deactivate Domain2

Domain1 -> Domain1: Log warning for Reject.

deactivate Domain1
@enduml

@startuml


actor Domain1Admin
participant Domain1
participant Domain2

Domain1Admin -> Domain1: Post Invite

activate Domain1

Domain1 -> Domain1: Authenticate Domain1Admin\nusing bearer token

note left
Verify the bearer token
of Domain1Admin.
end note

Domain1 - -> Domain1Admin: OK

Domain1 -> Domain2: Invite activity

activate Domain2

Domain2 -> Domain2: Authenticate Domain1\nusing HTTP signature
Domain2 - -> Domain1: OK

deactivate Domain1

Domain2 -> Domain2: Authorize\nDomain1

note right
Authorization fails
using Invite Witness
Authorization Policy.
end note

Domain2 -> Domain1: Reject activity

activate Domain1

Domain1 -> Domain1: Authenticate Domain2\nusing HTTP signature
Domain1 - -> Domain2: OK

deactivate Domain2

Domain1 -> Domain1: Log warning for Reject.

deactivate Domain1
@enduml

PlantUML version 1.2022.2beta5(Unknown compile time)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>